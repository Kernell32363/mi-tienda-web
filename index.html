<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/128/532/532159.png" type="image/x-icon">
    <title>EyASur.Ok Prueba - Fragancias y Vapers Gold</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'e-dark': '#0a0a0a', // Negro absoluto premium
                        'e-panel': '#121212', // Panel ligeramente más claro
                        'e-text': '#F5F5F5', // Blanco humo
                        'e-gold': '#D4AF37', // Oro Metálico Real
                        'e-rosegold': '#E0BFB8', // Champagne suave
                        'e-silver': '#C0C0C0', // Plata
                        'e-bronze': '#cd7f32', // Bronce
                    },
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif'], // Fuente elegante para lectura
                        serif: ['Playfair Display', 'serif'], // Fuente de lujo para títulos
                    },
                }
            }
        }
    </script>  
    <style>
       @import url('https://disfragancias.com/cdn/shop/articles/envato-labs-ai-214adbf0-56f6-4e7e-a959-63afb6bff051_1024x1024.jpg?v=1750277775');
      
       /* Efecto de Fondo Zoom */
        .background-zoom-effect {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('https://disfragancias.com/cdn/shop/articles/envato-labs-ai-214adbf0-56f6-4e7e-a959-63afb6bff051_1024x1024.jpg?v=1750277775');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            transform: scale(1.0);
            animation: zoom-in-out 30s infinite alternate ease-in-out;
            filter: brightness(0.4); /* Oscurecer para que resalte el texto */
        }
        @keyframes zoom-in-out {
            from { transform: scale(1.0); }
            to { transform: scale(1.15); }
        }

        /* Caja central con brillo dorado */
        .shiny-border-box {
            box-shadow: 0 0 25px rgba(212, 175, 55, 0.15);
            border: 1px solid rgba(212, 175, 55, 0.4);
            background: rgba(10, 10, 10, 0.7);
            backdrop-filter: blur(10px);
            transition: all 0.4s ease;
        }
        .shiny-border-box:hover {
            box-shadow: 0 0 40px rgba(212, 175, 55, 0.6); 
            border-color: #D4AF37;
        }

        /* Tipografía */
        .font-serif-fancy { font-family: 'Playfair Display', serif; letter-spacing: 1px; }
        .font-sans-elegant { font-family: 'Montserrat', sans-serif; }

        body { background-color: #0a0a0a; }

        /* Tarjetas de Productos */
        .product-card {
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            background-size: cover;
            background-position: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(212, 175, 55, 0.15);
            border-color: rgba(212, 175, 55, 0.5);
        }

        /* Gradiente de Lujo (Oro a Plata) */
        .luxury-gradient {
            background: linear-gradient(to right, #D4AF37, #F8F1D2, #D4AF37);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: shine 4s linear infinite;
        }
        @keyframes shine {
            to { background-position: 200% center; }
        }

        /* Botón Gold Instagram */
        .insta-btn-gold {
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            color: white;
        }

        .glow-pulse { animation: subtle-glow 3s infinite alternate; }
        @keyframes subtle-glow {
            0% { box-shadow: 0 0 5px rgba(212, 175, 55, 0.2); }
            100% { box-shadow: 0 0 20px rgba(212, 175, 55, 0.6); }
        }

        /* Mobile Menu */
        .mobile-menu {
            transition: max-height 0.4s ease-in-out, opacity 0.4s;
            max-height: 0; overflow: hidden; opacity: 0;
        }
        .mobile-menu.open { max-height: 300px; opacity: 1; }
        
        /* Inputs personalizados */
        input, textarea {
            background-color: rgba(255,255,255,0.05) !important;
            border: 1px solid rgba(212, 175, 55, 0.3) !important;
            color: #F5F5F5 !important;
        }
        input:focus, textarea:focus {
            border-color: #D4AF37 !important;
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.3) !important;
            outline: none;
        }
    </style>
</head>
<body class="bg-e-dark font-sans text-e-text">

    <div id="notification-container" class="fixed top-4 right-4 z-50 space-y-3"></div>

    <header class="bg-e-dark/95 backdrop-blur-md text-e-text shadow-2xl sticky top-0 z-40 border-b border-e-gold/30">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-24">
                
                <div class="flex items-center">
                    <a href="#" class="text-3xl md:text-4xl font-serif-fancy luxury-gradient font-bold tracking-widest">
                        EyASur.Ok
                    </a>
                </div>

                <nav class="hidden md:flex items-center space-x-8">
                    <a href="#" class="text-e-silver hover:text-e-gold transition duration-300 text-sm font-bold uppercase tracking-widest">Inicio</a>
                    <a href="#featured-products" class="text-e-silver hover:text-e-gold transition duration-300 text-sm font-bold uppercase tracking-widest">Productos</a>
                    <a href="#contact" class="text-e-silver hover:text-e-gold transition duration-300 text-sm font-bold uppercase tracking-widest">Contacto</a>
                    
                    <a href="https://www.instagram.com/eyasur.ok" target="_blank" class="flex items-center gap-2 px-4 py-2 border border-e-gold/50 rounded-full hover:bg-e-gold/10 transition duration-300 group">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-e-gold group-hover:text-pink-500 transition-colors"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                        <span class="text-e-gold text-xs font-bold uppercase group-hover:text-e-text transition-colors">Visítanos en Instagram</span>
                    </a>
                </nav>

                <div class="flex items-center space-x-5">
                    <button id="open-cart-btn" class="relative p-2 hover:scale-110 transition duration-300">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-e-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                        </svg>
                        <span id="cart-count" class="absolute -top-1 -right-1 bg-red-600 text-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center">0</span>
                    </button>
                    
                    <button id="menu-toggle" class="md:hidden text-e-gold">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
                    </button>
                </div>
            </div>

            <nav id="mobile-menu-links" class="mobile-menu md:hidden pb-6 bg-e-dark border-t border-gray-800">
                <a href="#" class="block px-4 py-3 text-e-silver hover:bg-gray-900 hover:text-e-gold text-sm uppercase tracking-widest">Inicio</a>
                <a href="#featured-products" class="block px-4 py-3 text-e-silver hover:bg-gray-900 hover:text-e-gold text-sm uppercase tracking-widest">Productos</a>
                <a href="#contact" class="block px-4 py-3 text-e-silver hover:bg-gray-900 hover:text-e-gold text-sm uppercase tracking-widest">Contacto</a>
                <a href="https://www.instagram.com/eyasur.ok" target="_blank" class="block px-4 py-3 text-e-gold hover:bg-gray-900 font-bold text-sm uppercase tracking-widest">
                    <span class="flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                        Visítanos en Instagram
                    </span>
                </a>
            </nav>
        </div>
    </header>

    <main>
        <section id="inicio" class="relative py-32 md:py-48 px-4 flex items-center justify-center text-center overflow-hidden min-h-[80vh]">
            <div class="background-zoom-effect"></div>
            <div class="relative z-10 p-10 md:p-16 max-w-5xl mx-auto rounded-sm shiny-border-box">
                <h1 class="text-5xl md:text-7xl font-serif-fancy mb-6 text-e-gold drop-shadow-lg">
                    Fragancias y Vapers <br/><span class="text-white text-4xl md:text-6xl italic">Exclusivos</span>
                </h1>
                <p class="text-lg md:text-xl text-e-silver mb-12 font-sans-elegant tracking-wide max-w-2xl mx-auto">
                    Descubre la esencia del lujo. Envíos seguros a todo el país.
                </p>
                <a href="#featured-products" class="inline-block bg-e-gold text-black font-bold py-4 px-10 rounded-sm hover:bg-white transition duration-500 tracking-widest text-sm uppercase shadow-[0_0_20px_rgba(212,175,55,0.5)] hover:shadow-[0_0_30px_rgba(255,255,255,0.6)]">
                    Ver Colección
                </a>
            </div>
        </section>

        <section id="featured-products" class="py-20 px-4 bg-e-dark">
            <div class="max-w-7xl mx-auto">
                <h2 class="text-4xl font-serif-fancy text-center mb-16 text-e-gold">Selección Premium</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
                    <div class="product-card h-96 rounded-sm relative group cursor-pointer overflow-hidden"
                         style="background-image: url('https://img.freepik.com/premium-photo/luxurious-perfume-bottle-with-golden-details-dark-background_7023-421979.jpg?w=360');"
                         onclick="simulateAddToCart({id: 1, name: 'Perfumes Gold', price: 8500})">
                        <div class="absolute inset-0 bg-black/60 group-hover:bg-black/40 transition duration-500"></div>
                        <div class="absolute bottom-0 left-0 right-0 p-8 text-center">
                            <h3 class="text-3xl font-serif-fancy text-white mb-2">Perfumes</h3>
                            <p class="text-e-silver text-sm mb-4">Fragancias importadas</p>
                            <div class="inline-block border border-e-gold text-e-gold px-6 py-2 rounded-sm font-bold backdrop-blur-sm">
                                $8.500
                            </div>
                        </div>
                    </div>

                    <div class="product-card h-96 rounded-sm relative group cursor-pointer overflow-hidden"
                         style="background-image: url('https://scontent-eze1-2.xx.fbcdn.net/v/t39.30808-6/491949787_1185299673605784_8229986934607711890_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=833d8c&_nc_ohc=1s-8NSaXdrAQ7kNvwFvB29D&_nc_oc=Adnveb58J4FYyOy1xYEHCZFQPyoszmDlKHhITpMCjWTDqDKYi6suwwBH6dlQGIuPZAw&_nc_zt=23&_nc_ht=scontent-eze1-2.xx&_nc_gid=iigdqveUOJl6YiFWEvzhKg&oh=00_Afi0_e4lL1g43T2SpzGpEvYvqM1e_KWn3PbFgT24eeD4rA&oe=69206976');"
                         onclick="simulateAddToCart({id: 2, name: 'Vapers Desechables', price: 40000})">
                        <div class="absolute inset-0 bg-black/60 group-hover:bg-black/40 transition duration-500"></div>
                        <div class="absolute bottom-0 left-0 right-0 p-8 text-center">
                            <h3 class="text-3xl font-serif-fancy text-white mb-2">Vapers</h3>
                            <p class="text-e-silver text-sm mb-4">Sabores intensos</p>
                            <div class="inline-block border border-e-gold text-e-gold px-6 py-2 rounded-sm font-bold backdrop-blur-sm">
                                $40.000
                            </div>
                        </div>
                    </div>

                    <div class="product-card h-96 rounded-sm relative group cursor-pointer overflow-hidden"
                         style="background-image: url('https://media.istockphoto.com/id/1366568938/photo/three-black-gift-boxes.jpg?s=612x612&w=0&k=20&c=0fIIMIIpdmw3b3cFSo3yC_wRPYp67J4ZLQ0RhA31MdQ=');"
                         onclick="simulateAddToCart({id: 3, name: 'Set de Lujo Premium', price: 70000})">
                        <div class="absolute inset-0 bg-black/60 group-hover:bg-black/40 transition duration-500"></div>
                        <div class="absolute bottom-0 left-0 right-0 p-8 text-center">
                            <h3 class="text-3xl font-serif-fancy text-white mb-2">Set de Lujo</h3>
                            <p class="text-e-silver text-sm mb-4">El regalo perfecto</p>
                            <div class="inline-block border border-e-gold text-e-gold px-6 py-2 rounded-sm font-bold backdrop-blur-sm">
                                $70.000
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="bg-e-panel py-20 px-4 border-y border-gray-800">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-3xl font-serif-fancy mb-8 text-e-gold">Nuestra Esencia</h2>
                <p class="text-xl text-e-silver font-sans-elegant leading-relaxed">
                    En <span class="text-e-gold font-bold">EyASur.Ok</span>, redefinimos la exclusividad. Nos especializamos en fragancias importadas y dispositivos de vapeo de alta gama. Calidad innegociable y autenticidad garantizada para clientes exigentes.
                </p>
            </div>
        </section>

        <section id="contact" class="py-20 px-4 bg-e-dark">
            <div class="max-w-2xl mx-auto bg-e-panel p-10 rounded-sm border border-gray-800 shadow-2xl">
                <h2 class="text-3xl font-serif-fancy text-center mb-10 text-e-text">Contacto Directo</h2>
                
                <form id="contact-form" action="https://formsubmit.co/ericdavidmorgan.dc@gmail.com" method="POST" target="hidden-iframe" onsubmit="handleContactSubmit()">
                    
                    <input type="hidden" name="_subject" value="Nuevo Mensaje - EyASur Web">
                    <input type="hidden" name="_captcha" value="false">
                    <input type="hidden" name="_template" value="table"> <div class="space-y-6">
                        <div>
                            <label class="block text-xs uppercase tracking-widest text-e-gold mb-2">Nombre</label>
                            <input type="text" name="name" required class="w-full px-4 py-3 rounded-sm bg-black border border-gray-700 text-white focus:border-e-gold transition-colors">
                        </div>
                        <div>
                            <label class="block text-xs uppercase tracking-widest text-e-gold mb-2">Email</label>
                            <input type="email" name="email" required class="w-full px-4 py-3 rounded-sm bg-black border border-gray-700 text-white focus:border-e-gold transition-colors">
                        </div>
                        <div>
                            <label class="block text-xs uppercase tracking-widest text-e-gold mb-2">Mensaje</label>
                            <textarea name="message" rows="4" required class="w-full px-4 py-3 rounded-sm bg-black border border-gray-700 text-white focus:border-e-gold transition-colors"></textarea>
                        </div>
                        <button type="submit" class="w-full bg-e-gold text-black font-bold py-4 uppercase tracking-widest hover:bg-white transition duration-300">
                            Enviar Mensaje
                        </button>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <footer class="bg-black text-gray-500 py-10 text-center border-t border-gray-900">
        <p class="text-sm">&copy; 2025 EyASur.Ok. Todos los derechos reservados.</p>
        <p class="text-xs mt-2 text-e-gold/50">Diseño Gold Exclusivo</p>
    </footer>

    <div id="cart-modal" class="fixed inset-0 bg-black/90 z-50 hidden justify-center items-center p-4 backdrop-blur-sm">
        <div class="bg-e-panel border border-e-gold/30 w-full max-w-lg rounded-sm shadow-2xl animate-fade-in">
            <div class="p-6">
                <div class="flex justify-between items-center border-b border-gray-700 pb-4 mb-4">
                    <h3 class="text-2xl font-serif-fancy text-e-gold">Tu Selección</h3>
                    <button onclick="closeCartModal()" class="text-gray-400 hover:text-white">&times;</button>
                </div>
                <div id="cart-items-list" class="max-h-64 overflow-y-auto space-y-4 mb-6">
                    <p id="empty-cart-message" class="text-center text-gray-500 py-4">El carrito está vacío.</p>
                </div>
                <div class="pt-4 border-t border-gray-700">
                    <div class="flex justify-between items-center mb-6">
                        <span class="text-lg text-gray-300">Total Estimado:</span>
                        <span id="cart-total" class="text-2xl font-bold text-e-gold">$0.00</span>
                    </div>
                    <button onclick="openCheckoutModal()" id="checkout-btn" disabled class="w-full bg-e-gold text-black font-bold py-3 uppercase tracking-widest hover:bg-white transition disabled:opacity-50 disabled:cursor-not-allowed">
                        Iniciar Compra
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="checkout-modal" class="fixed inset-0 bg-black/95 z-[60] hidden justify-center items-center p-4 backdrop-blur-md">
        <div class="bg-e-panel border border-e-gold/50 w-full max-w-md rounded-sm shadow-2xl">
            <div class="p-8">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-serif-fancy text-white">Finalizar Pedido</h3>
                    <button onclick="closeCheckoutModal()" class="text-gray-400 hover:text-white">&times;</button>
                </div>

                <div class="mb-8 text-center">
                    <p class="text-gray-400 text-sm uppercase tracking-widest">Total a Pagar</p>
                    <p id="checkout-total-display" class="text-4xl font-serif-fancy text-e-gold mt-2">$0.00</p>
                </div>

                <form id="order-form" action="https://formsubmit.co/ericdavidmorgan.dc@gmail.com" method="POST" target="hidden-iframe" onsubmit="handleOrderSubmit()">
                    
                    <input type="hidden" name="_subject" value="NUEVO PEDIDO - EyASur Web">
                    <input type="hidden" name="_captcha" value="false">
                    <input type="hidden" name="_template" value="table">
                    
                    <input type="hidden" name="Detalle_Pedido" id="hidden-order-details">
                    <input type="hidden" name="Monto_Total" id="hidden-order-total">

                    <div class="space-y-4">
                        <div>
                            <label class="text-xs text-e-gold uppercase">Nombre Completo</label>
                            <input type="text" name="Nombre" required class="w-full mt-1 px-3 py-2 bg-black border border-gray-700 text-white focus:border-e-gold">
                        </div>
                        <div>
                            <label class="text-xs text-e-gold uppercase">Correo Electrónico</label>
                            <input type="email" name="Email" required class="w-full mt-1 px-3 py-2 bg-black border border-gray-700 text-white focus:border-e-gold">
                        </div>
                        <div>
                            <label class="text-xs text-e-gold uppercase">Teléfono / WhatsApp</label>
                            <input type="text" name="Telefono" required class="w-full mt-1 px-3 py-2 bg-black border border-gray-700 text-white focus:border-e-gold">
                        </div>
                        <button type="submit" class="w-full mt-4 bg-e-gold text-black font-bold py-3 uppercase hover:bg-white transition shadow-[0_0_15px_rgba(212,175,55,0.4)]">
                            Confirmar Pedido
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="final-confirmation-modal" class="fixed inset-0 bg-black/95 z-[70] hidden justify-center items-center p-4">
        <div class="bg-e-panel border-t-4 border-e-gold w-full max-w-md p-8 text-center shadow-2xl rounded-sm">
            <div class="mb-4 text-e-gold">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
            </div>
            <h3 class="text-3xl font-serif-fancy text-white mb-2">¡Pedido Recibido!</h3>
            <p class="text-gray-400 mb-8">Hemos recibido tu orden correctamente. Te contactaremos a la brevedad.</p>
            
            <div class="space-y-3">
                <button onclick="goToInstagram()" class="w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-sm hover:opacity-90 transition flex justify-center items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                    Seguinos en Instagram
                </button>
                <button onclick="continueShopping()" class="w-full py-3 bg-transparent border border-gray-600 text-gray-300 hover:text-white hover:border-white transition">
                    Volver a la tienda
                </button>
            </div>
        </div>
    </div>

    <iframe name="hidden-iframe" style="display:none;"></iframe>

    <script>
        // --- LÓGICA DEL CARRITO Y UI ---
        let cartItems = [];
        const INSTAGRAM_URL = "https://www.instagram.com/eyasur.ok"; 

        // Mostrar notificaciones
        function showNotification(message, type) {
            const container = document.getElementById('notification-container');
            const div = document.createElement('div');
            div.className = `bg-e-panel border-l-4 ${type === 'success' ? 'border-green-500' : 'border-e-gold'} text-white px-6 py-4 shadow-2xl flex items-center gap-3 animate-bounce-in`;
            div.innerHTML = `<span class="text-xl">${type === 'success' ? '✓' : '✨'}</span><p>${message}</p>`;
            container.appendChild(div);
            setTimeout(() => div.remove(), 4000);
        }

        // Simular agregar al carrito
        function simulateAddToCart(product) {
            const existing = cartItems.find(item => item.id === product.id);
            if (existing) existing.quantity++;
            else cartItems.push({...product, quantity: 1});
            
            updateCartUI();
            showNotification(`${product.name} agregado`, 'gold');
        }

        // Actualizar UI del carrito
        function updateCartUI() {
            const totalCount = cartItems.reduce((sum, item) => sum + item.quantity, 0);
            const totalAmount = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const formattedTotal = totalAmount.toLocaleString('es-AR', {style: 'currency', currency: 'ARS'});

            document.getElementById('cart-count').textContent = totalCount;
            document.getElementById('cart-total').textContent = formattedTotal;
            document.getElementById('checkout-total-display').textContent = formattedTotal;

            const list = document.getElementById('cart-items-list');
            list.innerHTML = '';

            if (cartItems.length === 0) {
                document.getElementById('empty-cart-message').style.display = 'block';
                document.getElementById('checkout-btn').disabled = true;
            } else {
                document.getElementById('empty-cart-message').style.display = 'none';
                document.getElementById('checkout-btn').disabled = false;
                
                cartItems.forEach((item, index) => {
                    list.innerHTML += `
                        <div class="flex justify-between items-center bg-black/30 p-3 rounded border border-gray-800">
                            <div>
                                <p class="font-bold text-white">${item.name}</p>
                                <p class="text-xs text-e-gold">$${item.price} x ${item.quantity}</p>
                            </div>
                            <button onclick="removeFromCart(${index})" class="text-red-400 hover:text-red-200 text-sm">eliminar</button>
                        </div>
                    `;
                });
            }
        }

        function removeFromCart(index) {
            cartItems.splice(index, 1);
            updateCartUI();
        }

        // --- MODALES ---
        const cartModal = document.getElementById('cart-modal');
        const checkoutModal = document.getElementById('checkout-modal');
        const finalModal = document.getElementById('final-confirmation-modal');

        document.getElementById('open-cart-btn').onclick = () => cartModal.classList.replace('hidden', 'flex');
        function closeCartModal() { cartModal.classList.replace('flex', 'hidden'); }

        function openCheckoutModal() {
            closeCartModal();
            // 1. PREPARAR DATOS PARA EL FORMULARIO
            const detailsInput = document.getElementById('hidden-order-details');
            const totalInput = document.getElementById('hidden-order-total');
            
            // Crear string legible para el mail
            let detailsString = cartItems.map(item => 
                `- ${item.name} (Cant: ${item.quantity}) - Precio Unit: $${item.price}`
            ).join(' | '); // Usamos pipe o salto de linea

            detailsInput.value = detailsString;
            totalInput.value = document.getElementById('cart-total').textContent;

            checkoutModal.classList.replace('hidden', 'flex');
        }
        
        function closeCheckoutModal() { checkoutModal.classList.replace('flex', 'hidden'); }

        // --- MANEJO DE ENVÍO DE FORMULARIOS (SIN RECARGA) ---
        
        // 1. Formulario de Contacto
        function handleContactSubmit() {
            // El form se envía al iframe oculto. Nosotros mostramos feedback manual.
            setTimeout(() => {
                document.getElementById('contact-form').reset();
                showNotification('Mensaje enviado con éxito', 'success');
            }, 1000); // Simulamos retardo de red
            // Retorna true para que el submit ocurra
            return true; 
        }

        // 2. Formulario de Pedido (Carrito)
        function handleOrderSubmit() {
            setTimeout(() => {
                closeCheckoutModal();
                finalModal.classList.replace('hidden', 'flex');
                
                // Limpiar carrito despues del pedido
                cartItems = [];
                updateCartUI();
                document.getElementById('order-form').reset();
            }, 800);
            return true;
        }

        // Acciones finales
        function goToInstagram() {
            window.open(INSTAGRAM_URL, '_blank');
            finalModal.classList.replace('flex', 'hidden');
        }

        function continueShopping() {
            finalModal.classList.replace('flex', 'hidden');
        }

        // Mobile Menu Toggle
        const menuBtn = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu-links');
        menuBtn.onclick = () => mobileMenu.classList.toggle('open');

    </script>
</body>
</html>
